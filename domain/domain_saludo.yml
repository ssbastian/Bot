version: "3.1"

intents:
  #TODO SALUDO
  - int_saludo
  - int_dar_nombre
  - int_expresar_emocion

entities:
  - ent_person_nombre
  - ent_emocion


slots:
  
  slot_usuario_nuevo:
    type: bool
    initial_value: true
    influence_conversation: true
    mappings: 
      - type: custom

  slot_name:
    type: text
    mappings:
      - type: from_entity
        entity: ent_person_nombre
    influence_conversation: true

  slot_emocion:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: ent_emocion

  ultimo_tema:
    type: text
    influence_conversation: true
    mappings:
      - type: custom



responses:

  utter_botones:
    - text: "Hola estos son los botonoes"

  utter_presentarse:
    - text: "Hola, soy un bot prototipo creado para apoyar a personas introvertidas con sus habilidades comunicacionales especificamente en situaciones sociales. Estoy aquÃ­ para escucharte y ofrecerte consejos Ãºtiles. ğŸ˜Š"
  utter_pedir_nombre:
    - text: "Â¿cÃ³mo te llamas?"

  utter_saludo_con_nombre:
    - text: "Â¡Hola de nuevo, {slot_name}! Me alegra verte otra vez por aquÃ­. Â¿QuÃ© tal te ha ido desde nuestra Ãºltima charla?"
  
  utter_ya_saludado:
    - text: "Â¡Hola de nuevo! Â¿CÃ³mo te puedo ayudar ahora?"

  utter_saludo_nombre:
    - text: "Â¡{slot_name}! Me alegra verte por aquÃ­."

  utter_solicitar_emocion_libre:
    - text: "Claro, cuÃ©ntame con tus propias palabras cÃ³mo te sientes."
    
  utter_opciones_post_emocion:
    - text: "Â¿QuÃ© quieres hacer ahora? Puedes pedirme un consejo, contarme algo o simplemente charlar. ğŸ˜Š"


  utter_ofrecer_ayuda:
    - text: "Claro, estoy aquÃ­ para ayudarte ğŸ˜Š Â¿Sobre quÃ© tema te gustarÃ­a hablar? Puedo darte consejos o simplemente escucharte."
  
  utter_iniciar_conversacion_ligera:
    - text: "Â¡Por supuesto! A veces es bueno desconectarse un poco. Â¿Te gustarÃ­a que hablemos de hobbies, pelÃ­culas o algo que te relaje?"
 
  utter_consejos_sociales:
    - text: "Un buen primer paso es practicar pequeÃ±as conversaciones. Puedes empezar saludando o preguntando algo simple como 'Â¿CÃ³mo va tu dÃ­a?'. La clave es no presionarte demasiado ğŸ˜Š Â¿Quieres que te comparta algunos ejemplos prÃ¡cticos?"


  utter_default:
    - text: "Lo siento, no entendÃ­ bien eso. Â¿PodrÃ­as reformularlo o preguntarme algo relacionado con la ansiedad social?"


  utter_ofrecer_recursos:
    - text: "Si necesitas ayuda profesional, puedo ofrecerte recursos o conectarte con un especialista. Â¿Te gustarÃ­a eso?"

  utter_preguntar_continuar:
    - text: "Â¿Quieres continuar con lo anterior o prefieres cambiar de tema?"
      buttons:
        - title: "Continuar"
          payload: "/continuar"
        - title: "Cambiar"
          payload: "/cambiar_tema"

  utter_retomar_ultimo_tema:
    - text: "Volvamos a lo tuyo: Â¿quÃ© te gustarÃ­a hacer ahora? ğŸ˜Š" 

  utter_test_afirmar:
    - text: "Â¡Genial! Me alegra que estÃ©s de acuerdo. ğŸ˜Š Â¿En quÃ© mÃ¡s puedo ayudarte?xxx"
  utter_test_negar:
    - text: "Entiendo, no hay problema. Si cambias de opiniÃ³n, aquÃ­"

  utter_test_feliz_afirmar:
    - text: "Â¡que bueno que estes feliz, y que bueno que quieras entrenar"

  utter_test_feliz_negar:
    - text: "Â¡que bueno que estes feliz, pero que mal que no quieras entrenar"


  utter_ok_sin_ayuda:
    - text: "Perfecto ğŸ‘, entonces seguimos conversando de lo que quieras."


  utter_respetar_decision:
    - text: "EstÃ¡ bien, no haremos el ejercicio de respiraciÃ³n. ğŸ‘"

  utter_ofrecer_opciones:
    - text: "Podemos probar otra actividad o simplemente conversar. Â¿QuÃ© prefieres?"
      buttons:
        - title: "Otra actividad"
          payload: "/otra_actividad"
        - title: "Conversar"
          payload: "/conversar"
  


actions:

  - action_guardar_nombre
  - action_preguntar_emocion



session_config:
  session_expiration_time: 20
  carry_over_slots_to_new_session: true



















# version: "3.1"

 
# intents:
#   #TODO MENUS

#   - int_llamar_menu_alternativas
#   - int_menu_sel_alternativa
#   - int_menu_sel_recurso
#   - int_menu_sel_hablar_de_ti
#   - int_pedir_escucha


# entities:
#   - ent_person_nombre
#   - ent_tipo_alternativa
#   - ent_tipo_recurso

# slots:

#   slot_tipo_alternativa:
#     type: text
#     mappings:
#       - type: from_entity
#         entity: ent_tipo_alternativa
#         intent: int_menu_sel_alternativa

#   slot_tipo_recurso:
#     type: text
#     mappings:
#       - type: from_entity
#         entity: ent_tipo_recurso
#         intent: int_menu_sel_recurso


#   slot_contexto:
#     type: text
#     influence_conversation: true
#     initial_value: null
#     mappings:
#       - type: custom

# responses:

#   utter_menu_list_alternativa:
#   - text: |
#       Tengo estas alternativas disponibles para ti:
#       1ï¸âƒ£ Hablar de cÃ³mo te sientes
#       2ï¸âƒ£ Recibir algÃºn recurso
#       3ï¸âƒ£ Terminar la conversaciÃ³n
#       Â¿QuÃ© nÃºmero te interesa? dime
  
#   utter_menu_button_alternativa:
#   - text: "Â¿Te gustarÃ­a en cambio..."
#     buttons:
#     - title: "Hablar de cÃ³mo te sientes"
#       payload: '/int_menu_sel_alternativa{{"ent_tipo_alternativa":"sentimientos"}}'
#     - title: "Recibir algÃºn recurso"
#       payload: '/int_menu_sel_alternativa{{"ent_tipo_alternativa":"recursos"}}'
#     - title: "Terminar la conversaciÃ³n"
#       # payload: '/int_despedirse'
#       #payload: "ğŸ‘‹ AdiÃ³s! Quiero terminar la sesiÃ³n"
#       payload: '/int_menu_sel_alternativa{{"ent_tipo_alternativa":"despedida"}}'


#   utter_despedida_final:
#   - text: "ğŸ‘‹ Â¡AdiÃ³s! Quiero terminar la sesiÃ³n" 

#   utter_menu_list_recurso:
#   - text: |
#       Tengo estos recursos disponibles para ti:
#       1ï¸âƒ£ MeditaciÃ³n guiada (5 min)
#       2ï¸âƒ£ Ejercicios de respiraciÃ³n
#       3ï¸âƒ£ ArtÃ­culo sobre manejo emocional
#       Â¿QuÃ© nÃºmero te interesa? dime


#   utter_menu_button_recurso:
#   - text: "Elige una opciÃ³n:"
#     buttons:
#     - title: "Opcion 1"
#       payload: '/int_menu_sel_recurso{{"ent_tipo_recurso":"meditacion"}}'
#     - title: "Opcion 2"
#       payload: '/int_menu_sel_recurso{{"ent_tipo_recurso":"respiracion"}}'
#     - title: "Opcion 3"
#       payload: '/int_menu_sel_recurso{{"ent_tipo_recurso":"articulo"}}'


#   utter_preguntar_feedback:
#   - text: "Â¿Te gustarÃ­a que te enviara un recurso adicional o tienes alguna otra pregunta?"


#   utter_iniciar_escucha:
#   - text: |
#         Entiendo que te has estado sintiendo.  
#         Me gustarÃ­a escucharte un poco mÃ¡s...  
#         Â¿Quieres contarme quÃ© ha pasado Ãºltimamente o quÃ© ha hecho que te sientas asÃ­?

#   utter_cerrar_escucha:
#   - text: |
#         Gracias por compartirlo conmigo.  
#         Â¿Quieres que ahora te sugiera alguna actividad, o prefieres terminar por hoy?



# actions:

#   - action_manejar_alternativas
#   - action_entrega_recurso_sel
#   - action_responder_escucha_activa
























# version: "3.1"

# intents:
#   - int_despedirse
#   - int_si_despedida
#   - int_no_despedida
#   - int_respuesta_escuesta

# entities:
#   - ent_mejora
#   - ent_satisfaccion
#   - ent_recomendacion

# slots:


#   slot_feedback_pendiente:
#     type: bool
#     initial_value: false
#     mappings:
#       - type: custom   # ya no se llena automÃ¡ticamente por intents

  
#   slot_ultima_encuesta:
#     type: float   # usaremos timestamp (segundos desde epoch)
#     influence_conversation: false
#     mappings:
#       - type: custom

#   slot_mejora:
#     type: text
#     mappings:
#       - type: from_entity
#         entity: ent_mejora
#         intent: int_respuesta_escuesta


#   slot_satisfaccion:
#     type: text
#     mappings:
#       - type: from_entity
#         entity: ent_satisfaccion
#         intent: int_respuesta_escuesta
        

#   slot_recomendacion:
#     type: text
#     mappings:
#       - type: from_entity
#         entity: ent_recomendacion
#         intent: int_respuesta_escuesta


# responses:
#   utter_ofrecer_feedback:
#     - text: "Antes de irte, Â¿te gustarÃ­a responder 3 preguntas rÃ¡pidas sobre tu experiencia? (sÃ­/no)"
#   utter_pregunta_1:
#     - text: "Â¿Te sentiste mejor de la interacciÃ³n con el bot?"
#       buttons:
#       - title: "SÃ­ âœ…"
#         payload: '/int_respuesta_escuesta{{"ent_mejora":"si"}}'
#       - title: "No âŒ"
#         payload: '/int_respuesta_escuesta{{"ent_mejora":"no"}}'

#   utter_pregunta_2:
#     - text: "Del 1 al 5, Â¿cÃ³mo calificarÃ­as tu experiencia? (1: Mala, 5: Excelente)"
#       buttons:
#       - title: "1 â­"
#         payload: '/int_respuesta_escuesta{{"ent_satisfaccion": "1"}}'
#       - title: "2 â­"
#         payload: '/int_respuesta_escuesta{{"ent_satisfaccion": "2"}}'
#       - title: "3 â­"
#         payload: '/int_respuesta_escuesta{{"ent_satisfaccion": "3"}}'
#       - title: "4 â­"
#         payload: '/int_respuesta_escuesta{{"ent_satisfaccion": "4"}}'
#       - title: "5 â­"
#         payload: '/int_respuesta_escuesta{{"ent_satisfaccion": "5"}}'
  
#   utter_pregunta_3:
#     - text: "Â¿RecomendarÃ­as este bot a alguien mÃ¡s?"
#       buttons:
#         - title: "SÃ­ âœ…"
#           payload: '/int_respuesta_escuesta{{"ent_recomendacion": "si"}}'
#         - title: "No âŒ"
#           payload: '/int_respuesta_escuesta{{"ent_recomendacion": "no"}}'
  
#   utter_agradecimiento:
#     - text: "Â¡Gracias por tu feedback! ğŸ’™"
#   utter_despedida_final:
#     - text: "Â¡Hasta luego! CuÃ­date mucho."

# actions:
#   - action_deactivate_feedback
#   - action_verificar_feedback


# session_config:
#   session_expiration_time: 60
#   carry_over_slots_to_new_session: true
