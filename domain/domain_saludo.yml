version: "3.1"

intents:
  #TODO SALUDO
  - int_saludo
  - int_dar_nombre
  - int_expresar_emocion

entities:
  - ent_person_nombre
  - ent_emocion


slots:
  
  slot_usuario_nuevo:
    type: bool
    initial_value: true
    influence_conversation: true
    mappings: 
      - type: custom

  slot_name:
    type: text
    mappings:
      - type: from_entity
        entity: ent_person_nombre
    influence_conversation: true

  slot_emocion:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: ent_emocion

  ultimo_tema:
    type: text
    influence_conversation: true
    mappings:
      - type: custom



responses:

  utter_botones:
    - text: "Hola estos son los botonoes"

  utter_presentarse:
    - text: "Hola, soy un bot prototipo creado para apoyar a personas introvertidas con sus habilidades comunicacionales especificamente en situaciones sociales. Estoy aquí para escucharte y ofrecerte consejos útiles. 😊"
  utter_pedir_nombre:
    - text: "¿cómo te llamas?"

  utter_saludo_con_nombre:
    - text: "¡Hola de nuevo, {slot_name}! Me alegra verte otra vez por aquí. ¿Qué tal te ha ido desde nuestra última charla?"
  
  utter_ya_saludado:
    - text: "¡Hola de nuevo! ¿Cómo te puedo ayudar ahora?"

  utter_saludo_nombre:
    - text: "¡{slot_name}! Me alegra verte por aquí."

  utter_solicitar_emocion_libre:
    - text: "Claro, cuéntame con tus propias palabras cómo te sientes."
    
  utter_opciones_post_emocion:
    - text: "¿Qué quieres hacer ahora? Puedes pedirme un consejo, contarme algo o simplemente charlar. 😊"


  utter_ofrecer_ayuda:
    - text: "Claro, estoy aquí para ayudarte 😊 ¿Sobre qué tema te gustaría hablar? Puedo darte consejos o simplemente escucharte."
  
  utter_iniciar_conversacion_ligera:
    - text: "¡Por supuesto! A veces es bueno desconectarse un poco. ¿Te gustaría que hablemos de hobbies, películas o algo que te relaje?"
 
  utter_consejos_sociales:
    - text: "Un buen primer paso es practicar pequeñas conversaciones. Puedes empezar saludando o preguntando algo simple como '¿Cómo va tu día?'. La clave es no presionarte demasiado 😊 ¿Quieres que te comparta algunos ejemplos prácticos?"


  utter_default:
    - text: "Lo siento, no entendí bien eso. ¿Podrías reformularlo o preguntarme algo relacionado con la ansiedad social?"


  utter_ofrecer_recursos:
    - text: "Si necesitas ayuda profesional, puedo ofrecerte recursos o conectarte con un especialista. ¿Te gustaría eso?"

  utter_preguntar_continuar:
    - text: "¿Quieres continuar con lo anterior o prefieres cambiar de tema?"
      buttons:
        - title: "Continuar"
          payload: "/continuar"
        - title: "Cambiar"
          payload: "/cambiar_tema"

  utter_retomar_ultimo_tema:
    - text: "Volvamos a lo tuyo: ¿qué te gustaría hacer ahora? 😊" 

  utter_test_afirmar:
    - text: "¡Genial! Me alegra que estés de acuerdo. 😊 ¿En qué más puedo ayudarte?xxx"
  utter_test_negar:
    - text: "Entiendo, no hay problema. Si cambias de opinión, aquí"

  utter_test_feliz_afirmar:
    - text: "¡que bueno que estes feliz, y que bueno que quieras entrenar"

  utter_test_feliz_negar:
    - text: "¡que bueno que estes feliz, pero que mal que no quieras entrenar"


  utter_ok_sin_ayuda:
    - text: "Perfecto 👍, entonces seguimos conversando de lo que quieras."


  utter_respetar_decision:
    - text: "Está bien, no haremos el ejercicio de respiración. 👍"

  utter_ofrecer_opciones:
    - text: "Podemos probar otra actividad o simplemente conversar. ¿Qué prefieres?"
      buttons:
        - title: "Otra actividad"
          payload: "/otra_actividad"
        - title: "Conversar"
          payload: "/conversar"
  


actions:

  - action_guardar_nombre
  - action_preguntar_emocion



session_config:
  session_expiration_time: 20
  carry_over_slots_to_new_session: true



















# version: "3.1"

 
# intents:
#   #TODO MENUS

#   - int_llamar_menu_alternativas
#   - int_menu_sel_alternativa
#   - int_menu_sel_recurso
#   - int_menu_sel_hablar_de_ti
#   - int_pedir_escucha


# entities:
#   - ent_person_nombre
#   - ent_tipo_alternativa
#   - ent_tipo_recurso

# slots:

#   slot_tipo_alternativa:
#     type: text
#     mappings:
#       - type: from_entity
#         entity: ent_tipo_alternativa
#         intent: int_menu_sel_alternativa

#   slot_tipo_recurso:
#     type: text
#     mappings:
#       - type: from_entity
#         entity: ent_tipo_recurso
#         intent: int_menu_sel_recurso


#   slot_contexto:
#     type: text
#     influence_conversation: true
#     initial_value: null
#     mappings:
#       - type: custom

# responses:

#   utter_menu_list_alternativa:
#   - text: |
#       Tengo estas alternativas disponibles para ti:
#       1️⃣ Hablar de cómo te sientes
#       2️⃣ Recibir algún recurso
#       3️⃣ Terminar la conversación
#       ¿Qué número te interesa? dime
  
#   utter_menu_button_alternativa:
#   - text: "¿Te gustaría en cambio..."
#     buttons:
#     - title: "Hablar de cómo te sientes"
#       payload: '/int_menu_sel_alternativa{{"ent_tipo_alternativa":"sentimientos"}}'
#     - title: "Recibir algún recurso"
#       payload: '/int_menu_sel_alternativa{{"ent_tipo_alternativa":"recursos"}}'
#     - title: "Terminar la conversación"
#       # payload: '/int_despedirse'
#       #payload: "👋 Adiós! Quiero terminar la sesión"
#       payload: '/int_menu_sel_alternativa{{"ent_tipo_alternativa":"despedida"}}'


#   utter_despedida_final:
#   - text: "👋 ¡Adiós! Quiero terminar la sesión" 

#   utter_menu_list_recurso:
#   - text: |
#       Tengo estos recursos disponibles para ti:
#       1️⃣ Meditación guiada (5 min)
#       2️⃣ Ejercicios de respiración
#       3️⃣ Artículo sobre manejo emocional
#       ¿Qué número te interesa? dime


#   utter_menu_button_recurso:
#   - text: "Elige una opción:"
#     buttons:
#     - title: "Opcion 1"
#       payload: '/int_menu_sel_recurso{{"ent_tipo_recurso":"meditacion"}}'
#     - title: "Opcion 2"
#       payload: '/int_menu_sel_recurso{{"ent_tipo_recurso":"respiracion"}}'
#     - title: "Opcion 3"
#       payload: '/int_menu_sel_recurso{{"ent_tipo_recurso":"articulo"}}'


#   utter_preguntar_feedback:
#   - text: "¿Te gustaría que te enviara un recurso adicional o tienes alguna otra pregunta?"


#   utter_iniciar_escucha:
#   - text: |
#         Entiendo que te has estado sintiendo.  
#         Me gustaría escucharte un poco más...  
#         ¿Quieres contarme qué ha pasado últimamente o qué ha hecho que te sientas así?

#   utter_cerrar_escucha:
#   - text: |
#         Gracias por compartirlo conmigo.  
#         ¿Quieres que ahora te sugiera alguna actividad, o prefieres terminar por hoy?



# actions:

#   - action_manejar_alternativas
#   - action_entrega_recurso_sel
#   - action_responder_escucha_activa
























# version: "3.1"

# intents:
#   - int_despedirse
#   - int_si_despedida
#   - int_no_despedida
#   - int_respuesta_escuesta

# entities:
#   - ent_mejora
#   - ent_satisfaccion
#   - ent_recomendacion

# slots:


#   slot_feedback_pendiente:
#     type: bool
#     initial_value: false
#     mappings:
#       - type: custom   # ya no se llena automáticamente por intents

  
#   slot_ultima_encuesta:
#     type: float   # usaremos timestamp (segundos desde epoch)
#     influence_conversation: false
#     mappings:
#       - type: custom

#   slot_mejora:
#     type: text
#     mappings:
#       - type: from_entity
#         entity: ent_mejora
#         intent: int_respuesta_escuesta


#   slot_satisfaccion:
#     type: text
#     mappings:
#       - type: from_entity
#         entity: ent_satisfaccion
#         intent: int_respuesta_escuesta
        

#   slot_recomendacion:
#     type: text
#     mappings:
#       - type: from_entity
#         entity: ent_recomendacion
#         intent: int_respuesta_escuesta


# responses:
#   utter_ofrecer_feedback:
#     - text: "Antes de irte, ¿te gustaría responder 3 preguntas rápidas sobre tu experiencia? (sí/no)"
#   utter_pregunta_1:
#     - text: "¿Te sentiste mejor de la interacción con el bot?"
#       buttons:
#       - title: "Sí ✅"
#         payload: '/int_respuesta_escuesta{{"ent_mejora":"si"}}'
#       - title: "No ❌"
#         payload: '/int_respuesta_escuesta{{"ent_mejora":"no"}}'

#   utter_pregunta_2:
#     - text: "Del 1 al 5, ¿cómo calificarías tu experiencia? (1: Mala, 5: Excelente)"
#       buttons:
#       - title: "1 ⭐"
#         payload: '/int_respuesta_escuesta{{"ent_satisfaccion": "1"}}'
#       - title: "2 ⭐"
#         payload: '/int_respuesta_escuesta{{"ent_satisfaccion": "2"}}'
#       - title: "3 ⭐"
#         payload: '/int_respuesta_escuesta{{"ent_satisfaccion": "3"}}'
#       - title: "4 ⭐"
#         payload: '/int_respuesta_escuesta{{"ent_satisfaccion": "4"}}'
#       - title: "5 ⭐"
#         payload: '/int_respuesta_escuesta{{"ent_satisfaccion": "5"}}'
  
#   utter_pregunta_3:
#     - text: "¿Recomendarías este bot a alguien más?"
#       buttons:
#         - title: "Sí ✅"
#           payload: '/int_respuesta_escuesta{{"ent_recomendacion": "si"}}'
#         - title: "No ❌"
#           payload: '/int_respuesta_escuesta{{"ent_recomendacion": "no"}}'
  
#   utter_agradecimiento:
#     - text: "¡Gracias por tu feedback! 💙"
#   utter_despedida_final:
#     - text: "¡Hasta luego! Cuídate mucho."

# actions:
#   - action_deactivate_feedback
#   - action_verificar_feedback


# session_config:
#   session_expiration_time: 60
#   carry_over_slots_to_new_session: true
