intents:
  #TODO MENUS

  - int_llamar_menu_alternativas
  - int_menu_sel_alternativa
  - int_menu_sel_recurso
  - int_menu_sel_hablar_de_ti
  - int_pedir_escucha

  - int_actividades_mostrarAll

entities:
  - ent_person_nombre
  - ent_tipo_alternativa
  - ent_tipo_recurso

  - ent_actividades_all

slots:

  slot_tipo_alternativa:
    type: text
    mappings:
      - type: from_entity
        entity: ent_tipo_alternativa
        intent: int_menu_sel_alternativa
  slot_tipo_recurso:
    type: text
    mappings:
      - type: from_entity
        entity: ent_tipo_recurso
        intent: int_menu_sel_recurso
  slot_contexto:
    type: text
    influence_conversation: true
    initial_value: null
    mappings:
      - type: custom


  slot_actividades_all:
    type: text
    initial_value: "false"
    # influence_conversation: true
    mappings:
      - type: from_entity
        entity: ent_actividades_all  # o el nombre de la entidad que captures del botÃ³n
        intent: int_actividades_mostrarAll

responses:

  utter_menu_list_alternativa:
    - text: |
        Tengo estas alternativas disponibles para ti:
        1ï¸âƒ£ Hablar de cÃ³mo te sientes
        2ï¸âƒ£ Recibir algÃºn recurso
        3ï¸âƒ£ Terminar la conversaciÃ³n
        Â¿QuÃ© nÃºmero te interesa? dime

  utter_menu_button_alternativa:
    - text: "Â¿Te gustarÃ­a en cambio..."
      buttons:
      - title: "ğŸ¤–Hablar"
        payload: '/int_menu_sel_alternativa{{"ent_tipo_alternativa":"sentimientos"}}'
      - title: "ğŸ“šRecurso"
        payload: '/int_menu_sel_alternativa{{"ent_tipo_alternativa":"recursos"}}'
      - title: "â¹ï¸Terminar sesiÃ³n"
        payload: '/int_despedirse'
        #payload: "ğŸ‘‹ AdiÃ³s! Quiero terminar la sesiÃ³n"
        #payload: '/int_menu_sel_alternativa{{"ent_tipo_alternativa":"despedida"}}'

  utter_usuario_se_despiede:
    - text: "ğŸ‘‹ Â¡AdiÃ³s! Quiero terminar la sesiÃ³n" 

  utter_menu_list_recurso:
    - text: |
        MirÃ¡ tengo estos recursos disponibles para ti:
        1ï¸âƒ£ MeditaciÃ³n guiada (5 min)
        2ï¸âƒ£ Ejercicios de respiraciÃ³n
        3ï¸âƒ£ ArtÃ­culo sobre manejo emocional


  utter_menu_button_recurso:
    - text: "{slot_name} Â¿quÃ© recurso te gustaria conocer?"
      buttons:
      - title: "Opcion 1ï¸âƒ£ "
        payload: '/int_menu_sel_recurso{{"ent_tipo_recurso":"meditacion"}}'
      - title: "Opcion 2ï¸âƒ£"
        payload: '/int_menu_sel_recurso{{"ent_tipo_recurso":"respiracion"}}'
      - title: "Opcion 3ï¸âƒ£"
        payload: '/int_menu_sel_recurso{{"ent_tipo_recurso":"articulo"}}'


  utter_preguntar_feedback:
    - text: "Â¿Te gustarÃ­a que te enviara un recurso adicional o tienes alguna otra pregunta?"


  utter_iniciar_escucha:
    - text: |
          Entiendo que te has estado sintiendo.  
          Me gustarÃ­a escucharte un poco mÃ¡s...  
          Â¿Quieres contarme quÃ© ha pasado Ãºltimamente o quÃ© ha hecho que te sientas asÃ­?

  utter_cerrar_escucha:
    - text: |
          Gracias por compartirlo conmigo.  
          Â¿Quieres que ahora te sugiera alguna actividad, o prefieres terminar por hoy?

actions:

  - action_manejar_alternativas
  - action_entrega_recurso_sel
  - action_responder_escucha_activa